```typescript
const debugMode =
  argv.debug ||
  [process.env.DEBUG, process.env.DEBUG_MODE].some(
    (v) => v === 'true' || v === '1',
  ) ||
  false;
const memoryImportFormat = settings.memoryImportFormat || 'tree';
const ideMode =
  (argv.ideMode ?? settings.ideMode ?? false) &&
  process.env.TERM_PROGRAM === 'vscode';

const ideModeFeature =
  (argv.ideModeFeature ?? settings.ideModeFeature ?? false) &&
  !process.env.SANDBOX;

const ideClient = IdeClient.getInstance(ideMode && ideModeFeature);

const allExtensions = annotateActiveExtensions(
  extensions,
  argv.extensions || [],
);

const activeExtensions = extensions.filter(
  (_, i) => allExtensions[i].isActive,
);
```

* debugMode : 디버그 모드 활성화 여부, CLI 인수(`--debug`) 또는 환경변수가 `true` 또는 `1`인 경우 활성화, 기본값은 `false`
* memoryImportFormat : 메모리 가져오기 형식, 기본값은 `tree`
* ideMode : VSCode에서 실행 중인지 확인 하는 여부
* ideModeFeature : IDE 모드 기능 활성화 여부, CLI 인수 또는 설정에서 가져오며, 샌드박스 환경에서는 비활성화
* ideClient : IDE 클라이언트 인스턴스, IDE 모드가 활성화된 경우에만 생성
* allExtensions : 활성화된 확장 기능 목록
* activeExtensions : 실제로 활성화된 확장 기능만 필터링

### process.env

> `process.env` 는 Node.js에서 현재 프로세스의 환경 변수를 나타내는 객체

vscode 에서 실행 중인지 확인하는 방법은 `process.env.TERM_PROGRAM` 이 `vscode` 인지 확인하는 것

### IdeClient

> Gemini CLI와 IDS(VScode) 간의 브릿지 역할을 하는 클래스 로서 CLI가 터미널에서 실행되면서 IDE와 실시간으로 소통할 수 있게 해주는 통신 관리자

### annotateActiveExtensions

**type**

```typescript
export interface GeminiCLIExtension {
  name: string;
  version: string;
  isActive: boolean;
  path: string;
}