# GeminiClient

`packages/core/src/core/client.ts`


> 채팅 세션, 컨텐스트, 워크플로우 관리

## Session

`packages/core/src/utils/session.ts`

```typescript
import { randomUUID } from 'crypto';

export const sessionId = randomUUID();
```

session 은 기본적으로 **어떤 활동이나 일련의 활동이 진행되는 특정 기간 또는 시간을 의미**

그러므로 Gemini-CLI 는 session 을 생성하고 관리하며 세션 내 토큰 사용량 추적, 히스토리 관리, 메모리 관리 등을 할 수 있게 됨

## 컨텍스트

`packages/core/src/core/client.ts`

> AI 가 사용자의 상황을 이해하기 위한 모든 배경 정보

### 1. 환경 컨텍스트 (시스템 기본 정보)

* 현재 날짜
* 운영체제
* 작업 디렉토리들
* 폴더 구조 트리

```typescript
// client.ts - getEnvironment()
const today = new Date().toLocaleDateString();
const platform = process.platform;

const context = `
    This is the Gemini CLI. Today's date is ${today}.
    My operating system is: ${platform}
    Working directories: ${workspaceDirectories}
    Folder structure: ${folderStructures.join('\n')}
`;
```

### 2. IDE 컨텍스트 (현재 작업 상태)

`packages/core/src/core/client.ts`

* 현재 열린 파일
* 커서 위치(몇번째 줄, 몇번째 문자)
* 선택된 텍스트
* 최근에 작업한 파일들

# sendMessageStream

> 메시지를 보내는것보단, **컨텍스트와 함께 메시지를 스트림 형태로 처리하는 워크플로우** 하는 메서드, 실제 전송은 다른곳에서 이루어 짐