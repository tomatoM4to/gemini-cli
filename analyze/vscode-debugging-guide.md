# VS Code에서 디버깅하는 방법

이 프로젝트는 VS Code에서 바로 디버깅을 시작할 수 있도록 몇 가지 기본 구성이 `.vscode/launch.json` 파일에 미리 설정되어 있습니다.

VS Code의 "실행 및 디버그" 패널 (단축키: `Ctrl+Shift+D`)을 열면 드롭다운 메뉴에서 사용 가능한 디버그 구성을 확인할 수 있습니다.

## 주요 디버그 구성

### 1. Launch CLI

-   **설명**: Gemini CLI 애플리케이션을 시작하고 디버거를 연결합니다.
-   **사용법**:
    1.  VS Code의 "실행 및 디버그" 패널로 이동합니다.
    2.  드롭다운 메뉴에서 "Launch CLI"를 선택합니다.
    3.  `F5` 키를 누르거나 녹색 화살표 아이콘을 클릭하여 디버깅을 시작합니다.
-   **동작**: 이 구성은 `npm run start` 명령을 실행하여 CLI를 시작합니다. 코드에 `debugger` 구문을 추가하거나 중단점(breakpoint)을 설정하여 코드 실행을 일시 중지하고 변수를 조사할 수 있습니다.

### 2. Debug Test File

-   **설명**: 특정 테스트 파일을 디버깅 모드에서 실행합니다.
-   **사용법**:
    1.  "실행 및 디버그" 패널에서 "Debug Test File"을 선택합니다.
    2.  디버깅을 시작하면 (`F5`) 디버깅할 테스트 파일의 경로를 입력하라는 메시지가 표시됩니다.
    3.  기본값으로 설정된 경로를 사용하거나 디버깅하려는 다른 테스트 파일의 전체 경로를 입력합니다.
-   **동작**: `npm run test -- --inspect-brk ... <선택한 파일>` 명령을 실행하여 Vitest를 디버그 모드로 시작합니다. 이를 통해 개별 테스트를 단계별로 실행하고 문제를 진단할 수 있습니다.

### 3. Launch E2E

-   **설명**: End-to-end (E2E) 테스트를 실행하고 디버깅합니다.
-   **사용법**:
    1.  "실행 및 디버그" 패널에서 "Launch E2E"를 선택합니다.
    2.  `F5` 키를 눌러 시작합니다.
-   **동작**: `integration-tests/run-tests.js` 스크립트를 실행합니다. `launch.json` 파일의 `"args"`를 수정하여 특정 테스트를 대상으로 지정할 수 있습니다.

### 4. Launch Companion VS Code Extension

-   **설명**: VS Code 확장 프로그램을 개발 모드로 실행합니다.
-   **사용법**:
    1.  "실행 및 디버그" 패널에서 "Launch Companion VS Code Extension"을 선택합니다.
    2.  `F5` 키를 누르면 새 VS Code 창 (확장 개발 호스트)이 열리고 해당 창에서 확장 프로그램이 활성화됩니다.
-   **동작**: `vscode-ide-companion` 패키지를 빌드하고 확장 개발 환경에서 실행합니다.

### 5. Attach

-   **설명**: 이미 실행 중인 Node.js 프로세스에 디버거를 연결합니다.
-   **사용법**:
    1.  `--inspect` 또는 `--inspect-brk` 플래그를 사용하여 Node.js 애플리케이션을 시작합니다. (예: `node --inspect index.js`)
    2.  "실행 및 디버그" 패널에서 "Attach"를 선택합니다.
    3.  `F5` 키를 눌러 실행 중인 프로세스에 연결합니다.
-   **동작**: 기본적으로 9229 포트를 통해 연결을 시도합니다.

## 일반적인 디버깅 절차

1.  **중단점 설정**: 코드 편집기에서 줄 번호 왼쪽을 클릭하여 빨간 점(중단점)을 추가합니다. 코드가 해당 지점에서 실행을 멈춥니다.
2.  **디버거 시작**: 위에서 설명한 구성 중 하나를 선택하고 `F5` 키를 눌러 디버깅을 시작합니다.
3.  **상태 확인**: 코드가 중단점에서 멈추면 왼쪽 "변수" 창에서 지역 및 전역 변수의 상태를 검사할 수 있습니다.
4.  **코드 탐색**: 디버그 도구 모음의 컨트롤(계속, 한 단계씩 코드 실행, 프로시저 단위 실행, 프로시저 나가기 등)을 사용하여 코드 실행을 탐색합니다.

이 가이드를 통해 VS Code의 강력한 디버깅 기능을 활용하여 생산성을 높일 수 있기를 바랍니다.